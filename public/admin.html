<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administraci√≥n ‚Äì Centro Escolar Cant√≥n El Amatal</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="icon" href="img/icoSV.ico" type="image/x-icon">
</head>

<body class="admin-body">
    <!-- Barra superior -->
    <header class="admin-topbar">
        <div class="admin-topbar-content">
            <div class="admin-brand">
                <h1>üìö Panel de Administraci√≥n</h1>
                <p class="admin-user-info">Bienvenido, <span id="user-name"></span></p>
            </div>

            <!-- Bot√≥n hamburguesa (m√≥vil) -->
            <button id="admin-menu-toggle" class="admin-menu-toggle" aria-controls="admin-nav-menu"
                aria-expanded="false">
                <span class="sr-only">Abrir men√∫</span>‚ò∞
            </button>

            <!-- Men√∫ de navegaci√≥n -->
            <nav id="admin-nav-menu" class="admin-actions">
                <button id="btn-logout" class="btn-danger">üö™ Cerrar sesi√≥n</button>
            </nav>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="admin-main">
        <!-- Dashboard con estad√≠sticas -->
        <section class="admin-dashboard">
            <h2>Resumen General</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üì∏</div>
                    <div class="stat-info">
                        <h3 id="stat-albums">0</h3>
                        <p>√Ålbumes publicados</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìÑ</div>
                    <div class="stat-info">
                        <h3 id="stat-docs">0</h3>
                        <p>Documentos subidos</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üñºÔ∏è</div>
                    <div class="stat-info">
                        <h3 id="stat-photos">0</h3>
                        <p>Fotos totales</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìÖ</div>
                    <div class="stat-info">
                        <h3 id="stat-date">--</h3>
                        <p>√öltima actualizaci√≥n</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sistema de pesta√±as -->
        <section class="admin-tabs-section">
            <div class="tabs-header">
                <button class="tab-btn active" data-tab="albums">üì∏ Subir √Ålbum</button>
                <button class="tab-btn" data-tab="documentos">üìÑ Subir Documento</button>
                <button class="tab-btn" data-tab="gestionar">‚öôÔ∏è Gestionar Contenido</button>
            </div>

            <!-- Tab: √Ålbumes -->
            <div class="tab-content active" id="tab-albums">
                <div class="admin-card">
                    <h3>üì§ Publicar Nuevo √Ålbum</h3>
                    <form id="album-form" class="admin-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="titulo">T√≠tulo del evento *</label>
                                <input type="text" id="titulo" name="titulo" placeholder="Ej: Feria de Ciencias 2025"
                                    required>
                            </div>
                            <div class="form-group">
                                <label for="fecha">Fecha del evento *</label>
                                <input type="date" id="fecha" name="fecha" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="descripcion">Descripci√≥n (opcional)</label>
                            <textarea id="descripcion" name="descripcion" rows="3"
                                placeholder="Breve rese√±a del evento"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="fotos">Seleccionar fotos (m√°x. 30, solo JPG) *</label>
                            <div class="file-input-wrapper">
                                <input type="file" id="fotos" name="fotos" accept="image/jpeg" multiple required>
                                <span class="file-input-label">Haz clic para seleccionar archivos</span>
                            </div>
                        </div>

                        <!-- Preview de fotos -->
                        <div id="preview" class="preview-grid"></div>

                        <!-- Barra de progreso -->
                        <div class="progress-container">
                            <progress id="progress" value="0" max="100"></progress>
                            <span id="progress-text">0%</span>
                        </div>

                        <button type="submit" id="btn-enviar-album" class="btn-primary">Publicar √°lbum</button>
                        <p id="form-error-album" class="error-msg"></p>
                        <p id="form-success-album" class="success-msg"></p>
                    </form>
                </div>
            </div>

            <!-- Tab: Documentos -->
            <div class="tab-content" id="tab-documentos">
                <div class="admin-card">
                    <h3>üì§ Subir Nuevo Documento</h3>
                    <form id="doc-form" class="admin-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="doc-titulo">T√≠tulo del documento *</label>
                                <input type="text" id="doc-titulo" name="titulo"
                                    placeholder="Ej: Rendici√≥n de Cuentas - Junio 2025" required>
                            </div>
                            <div class="form-group">
                                <label for="doc-mes">Mes del documento *</label>
                                <input type="month" id="doc-mes" name="mes" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="doc-file">Seleccionar PDF (m√°x. 10 MB) *</label>
                            <div class="file-input-wrapper">
                                <input type="file" id="doc-file" name="doc" accept=".pdf" required>
                                <span class="file-input-label">Haz clic para seleccionar archivo PDF</span>
                            </div>
                            <small class="form-hint">Tama√±o m√°ximo: 10 MB</small>
                        </div>

                        <!-- Barra de progreso -->
                        <div class="progress-container">
                            <progress id="progress-doc" value="0" max="100"></progress>
                            <span id="progress-text-doc">0%</span>
                        </div>

                        <button type="submit" id="btn-enviar-doc" class="btn-primary">Subir documento</button>
                        <p id="form-error-doc" class="error-msg"></p>
                        <p id="form-success-doc" class="success-msg"></p>
                    </form>
                </div>
            </div>

            <!-- Tab: Gestionar Contenido -->
            <div class="tab-content" id="tab-gestionar">
                <div class="admin-card">
                    <h3>üì∏ √Ålbumes Publicados</h3>
                    <div id="albums-list" class="content-list">
                        <p class="loading-content">Cargando √°lbumes...</p>
                    </div>
                </div>

                <div class="admin-card">
                    <h3>üìÑ Documentos Publicados</h3>
                    <div id="docs-list" class="content-list">
                        <p class="loading-content">Cargando documentos...</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal de confirmaci√≥n reutilizable -->
    <div id="confirm-modal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="modal-title">üö™ Cerrar Sesi√≥n</h3>
            </div>
            <div class="modal-body">
                <p id="modal-message">¬øEst√°s seguro de que deseas cerrar sesi√≥n?</p>
                <p id="modal-hint" class="modal-hint">Perder√°s cualquier progreso no guardado.</p>
            </div>
            <div class="modal-footer">
                <button id="modal-cancel" class="btn-modal btn-modal-cancel">Cancelar</button>
                <button id="modal-confirm" class="btn-modal btn-modal-confirm">Confirmar</button>
            </div>
        </div>
    </div>>

    <!-- Modal de Edici√≥n de √Ålbum -->
    <div id="edit-album-modal" class="modal-overlay">
        <div class="modal-container">
            <form id="edit-album-form" class="modal-form">
                <div class="modal-header">
                    <h3 id="edit-modal-title">‚úèÔ∏è Editar √Ålbum</h3>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="edit-album-id">
                    <div class="form-group">
                        <label for="edit-album-titulo">T√≠tulo del √°lbum</label>
                        <input type="text" id="edit-album-titulo" class="modal-input" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-album-descripcion">Descripci√≥n</label>
                        <textarea id="edit-album-descripcion" class="modal-textarea" rows="4"></textarea>
                    </div>
                    <p id="edit-modal-error" class="error-msg"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" id="edit-modal-cancel" class="btn-modal btn-modal-cancel">Cancelar</button>
                    <button type="submit" id="edit-modal-confirm" class="btn-modal btn-modal-confirm">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/year-dinamic.js"></script>
    <script src="js/xss.js"></script>
    <script src="js/admin.js"></script>
</body>

</html>